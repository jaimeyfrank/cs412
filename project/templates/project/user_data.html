{% extends "project/base.html" %}

{% block content %}
<body>
    <h2>Rated Movies</h2>
    <div id="rated-movies-grid">
        {% if rated_movies %}
            {% for rating in rated_movies %}
                <div class="movie-item">
                    <h3>{{ rating.movie.title }} - Rating: {{ rating.rating }}/5</h3>
                </div>
            {% endfor %}
        {% else %}
            <div>No rated movies</div>
        {% endif %}
    </div>

    <h2>Watchlist</h2>
    <div id="watchlist-grid">
        {% if watchlist %}
            {% for rating in watchlist %}
                <div class="movie-item">
                    <h3>{{ rating.movie.title }}</h3>
                    <form method="post" action="{% url 'user_data' %}">
                        {% csrf_token %}
                        <input type="hidden" name="movie_id" value="{{ rating.movie.id }}">
                        <input type="number" name="rating" min="1" max="5">
                        <button type="submit">Rate</button>
                    </form>
                </div>
            {% endfor %}
        {% else %}
            <div>No movies in watchlist</div>
        {% endif %}
    </div>

    <h2>Liked Actors</h2>
    <div id="liked-actors-grid">
        {% if liked_actors %}
            {% for actor in liked_actors %}
                <div class="actor-item">
                    <h3>{{ actor.name }}</h3>
                </div>
            {% endfor %}
        {% else %}
            <div>No liked actors</div>
        {% endif %}
    </div>

    <h2>Liked Directors</h2>
    <div id="liked-directors-grid">
        {% if liked_directors %}
            {% for director in liked_directors %}
                <div class="director-item">
                    <h3>{{ director.name }}</h3>
                </div>
            {% endfor %}
        {% else %}
            <div>No liked directors</div>
        {% endif %}
    </div>
</body>
{% endblock %}